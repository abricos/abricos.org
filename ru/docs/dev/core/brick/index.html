<!--[*]
[tt=content][/tt]

[mod=sitemap]regmenuitem|title=Brick (Кирпич) - строительный материал страниц,buildmetavars[/mod]

[*]-->
<h3>Brick (Кирпич) - строительный материал страниц</h3>
<p>
	<i>Кирпич</i> - это основной «строительный» материал в платформе Абрикос, 
	который используется для построения страниц для клиента сервером.
</p>
<p>
	Почему именно Brick? Потому что практически любая страница на сайте, это своего 
	рода дом, который строиться из кирпичей. Так вот и платформа Абрикос, подобно 
	строительной компании, при каждом запросе страницы сайта собирает ее из кирпичей. 
	Причем делает это весьма эффективно, используя для сборки только те кирпичи, 
	которые необходимы в данный момент на этой странице. 
</p>
<p>
	В платформе Абрикос существует три типа кирпича:
</p>
<ul>
	<li>
		<b><i>BrickContent</i></b> (стартовый кирпич) - кирпич, определяет основу 
		собираемой страницы, а именно, с каким шаблоном собрать страницу и каков 
		будет его основной контент;
	</li>
	<li>
		<b><i>Brick</i></b> (свободный кирпич, строительный материал) - кирпич, 
		который используется в качестве материала для собираемых страниц; 
	</li>
	<li>
		<b><i>BrickTemplate</i></b> (шаблон-обертка) - кирпич-шаблон, которым будет 
		обернут результат собираемой страницы. 
	</li>
</ul>
<h4>Технология сборки страниц сервером</h4>
<p>
	С точки зрения строительства страниц, каждая генерируема компилированная страница в 
	платформе Абрикос начинается со стартового кирпича. Далее парсер платформы определяет 
	какие подключаемые(свободные) кирпичи, будут использованы при сборке этого стартового 
	кирпича и в какой шаблон он будет помещен. Причем кирпич-шаблон (BrickTemplate), 
	так же может содержать в себе подключаемые свободные кирпичи.
</p>
<p>
	Построив полную картину связей между кирпичами, ядро платформы собирает каждый 
	кирпич, начиная с самого нижнего уровня кирпичей, занося результат сборки каждого 
	кирпича в тело кирпича родителя. В конечном итоге производится вывод собранного 
	кирпича, типа BrickTemplate в теле которого расположен кирпич типа BrickContent 
	и все дочернии свободные кирпичи.
</p>

<h4>Структура кирпича</h4>
<p>
	Кирпич является HTML файлом, который разделен на две части: <br />
	1-я часть - заголовок кирпича, в котором указываются все необходимые параметры для 
	сборки кирпича. Заголовок (блок параметров) заключен в комбинацию символов: 
	<i>&lt;!--[*]</i> - начало заголовка, <i>[*]--&gt;</i> - конец заголовка. <br />
	2-я часть - тело кирпича, содержит в себе базовый HTML шаблон, в который будет 
	занесен результат сборки кирпича. 
</p>
<pre class="prettyprint"><code class="html">
 &lt;!--[*]
 ... заголовок кирпича ...
 [*]--&gt;
 ... тело кирпича ...
 
</code></pre>

<h4>Параметры кирпича</h4>
<p>
	Все параметры кирпича указываются в его заголовке. Параметры расширяют возможности 
	кирпича при сборке в конечный элемент интерфейса собираемой страницы.
</p>
<p>
	Каждый параметр имеет вид: <i>[тип=имя]значение[/тип]</i>.
</p>
<p>
	В текущей версии платформы Абрикос определены следующие типы параметров:
</p> 
 <ul>
 	<li>
 		<b><i>bkvar</i></b> - локальная переменная кирпича;
 	</li>
 	<li>
 		<b><i>var</i></b> - глобальная переменная кирпича;
 	</li>
 	<li>
 		<b><i>p</i></b> - параметр вызова кирпича;
 	</li>
 	<li>
 		<b><i>ph</i></b> - фраза кирпича, которая синхронизируется с БД;
 	</li>
 	<li>
 		<b><i>mjs</i></b> - JS-компонент модуля, который будет запрошен на выполнение после 
 		инициализации страницы в интернет-браузере клиента;
 	</li>
 	<li>
 		<b><i>mcss</i></b> - CSS-файл модуля;
 	</li>
 	<li>
 		<b><i>js</i></b> - JS-файл, который будет включен в список дополнительных JS-файлов 
 		собираемой страницы;
 	</li>
 	<li>
 		<b><i>css</i></b> - CSS-файл, который будет включен в список подключаемых CSS-стилей 
 		собираемой страницы;
 	</li>
 	<li>
 		<b><i>tt</i></b> - шаблон, используется только стартовых кирпичах;
 	</li>
 	<li>
 		<b><i>script</i></b> - PHP-скрипт кирпича, который будет вызван в процессе компиляции кирпича;
 	</li>
 </ul>
<p>
	Подробное описание параметров кирпича смотрите на странице <a href="../brickparam/">Параметры кирпича</a>. 
</p> 
 